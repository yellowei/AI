# -*- coding:utf-8 -*-__author__ = 'Microcosm'import cv2import numpy as np# 定义旋转rotate函数def rotate(image, angle, center=None, scale=1.0):    # 获取图像尺寸    (h, w) = image.shape[:2]    # 若未指定旋转中心，则将图像中心设为旋转中心    if center is None:        center = (w / 2, h / 2)    # 执行旋转    M = cv2.getRotationMatrix2D(center, angle, scale)    rotated = cv2.warpAffine(image, M, (w, h))    # 返回旋转后的图像    return rotatedcap = cv2.VideoCapture("./videos/test01.mp4")#cap = cv2.VideoCapture("E:/python/Python Project/opencv_showimage/videos/vipmen.avi")# 方法一：fgbg1 = cv2.createBackgroundSubtractorKNN()# 方法二：fgbg2 = cv2.createBackgroundSubtractorMOG2()# 方法三：  需要OpenCV3.0kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (3,3))fgbg3 = cv2.createBackgroundSubtractorMOG2()while(1):    ret, frame = cap.read()    frame = rotate(frame, 270)    if ret:        fg_mask1 = fgbg1.apply(frame)        fg_mask2 = fgbg2.apply(frame)        fgmask3 = fgbg3.apply(frame)        fgmask3 = cv2.morphologyEx(fgmask3, cv2.MORPH_OPEN, kernel)        # result = np.hstack((fg_mask1, fg_mask2))        result = np.hstack((fg_mask1, fg_mask2, fgmask3))        cv2.imshow('frame', result)        # cv2.imshow('frame', fgmask3)        k = cv2.waitKey(30) & 0xff        if k == 27:            break    else:        breakcap.release()cv2.destroyAllWindows()